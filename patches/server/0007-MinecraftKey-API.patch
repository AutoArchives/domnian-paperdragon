From 0875d17dead502bf9c7a0979aaa66b79e3fbe1f6 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Mon, 21 Nov 2016 17:12:56 -0500
Subject: [PATCH] MinecraftKey API

---
 src/main/java/net/minecraft/server/MinecraftKey.java  | 12 ++++++------
 src/main/java/org/bukkit/craftbukkit/CraftServer.java |  5 +++++
 2 files changed, 11 insertions(+), 6 deletions(-)

diff --git a/src/main/java/net/minecraft/server/MinecraftKey.java b/src/main/java/net/minecraft/server/MinecraftKey.java
index b6ef8c0b6..b9ef260eb 100644
--- a/src/main/java/net/minecraft/server/MinecraftKey.java
+++ b/src/main/java/net/minecraft/server/MinecraftKey.java
@@ -12,10 +12,10 @@ import java.util.Locale;
 import org.apache.commons.lang3.StringUtils;
 import org.apache.commons.lang3.Validate;
 
-public class MinecraftKey implements Comparable<MinecraftKey> {
+public class MinecraftKey implements Comparable<MinecraftKey>, com.destroystokyo.paper.MinecraftKey { // Paper
 
-    protected final String a;
-    protected final String b;
+protected final String a; public String getGroup() { return a; } // Paper - OBFHELPER
+    protected final String b; public String getName() { return b; } // Paper - OBFHELPER
 
     protected MinecraftKey(int i, String... astring) {
         this.a = StringUtils.isEmpty(astring[0]) ? "minecraft" : astring[0].toLowerCase(Locale.ROOT);
@@ -83,7 +83,7 @@ public class MinecraftKey implements Comparable<MinecraftKey> {
         return i;
     }
 
-    public int compareTo(Object object) {
+    public int compareTo(MinecraftKey object) { // PaperDragon - Fix Compile Issue
         return this.a((MinecraftKey) object);
     }
 
@@ -99,11 +99,11 @@ public class MinecraftKey implements Comparable<MinecraftKey> {
             return new JsonPrimitive(minecraftkey.toString());
         }
 
-        public JsonElement serialize(Object object, Type type, JsonSerializationContext jsonserializationcontext) {
+        public JsonElement serialize(MinecraftKey object, Type type, JsonSerializationContext jsonserializationcontext) { // PaperDragon - Fix Decomp Issue
             return this.a((MinecraftKey) object, type, jsonserializationcontext);
         }
 
-        public Object deserialize(JsonElement jsonelement, Type type, JsonDeserializationContext jsondeserializationcontext) throws JsonParseException {
+        public MinecraftKey deserialize(JsonElement jsonelement, Type type, JsonDeserializationContext jsondeserializationcontext) throws JsonParseException { // PaperDragon - Fix Decomp Issue
             return this.a(jsonelement, type, jsondeserializationcontext);
         }
     }
diff --git a/src/main/java/org/bukkit/craftbukkit/CraftServer.java b/src/main/java/org/bukkit/craftbukkit/CraftServer.java
index e2c9c74c3..19c3e2b01 100644
--- a/src/main/java/org/bukkit/craftbukkit/CraftServer.java
+++ b/src/main/java/org/bukkit/craftbukkit/CraftServer.java
@@ -1934,6 +1934,11 @@ public final class CraftServer implements Server {
         return true;
     }
 
+    @Override
+    public com.destroystokyo.paper.MinecraftKey createKey(@javax.annotation.Nonnull String group, @javax.annotation.Nonnull String name) {
+        return new net.minecraft.server.MinecraftKey(group, name);
+    }
+
     @Override
     public boolean suggestPlayerNamesWhenNullTabCompletions() {
         return com.destroystokyo.paper.PaperConfig.suggestPlayersWhenNullTabCompletions;
-- 
2.14.1

