From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Tue, 19 May 2015 23:47:32 -0400
Subject: [PATCH] Disable Repair Cost

Handled on Plugin Level on a Per Player basis

diff --git a/src/main/java/net/minecraft/world/item/ItemStack.java b/src/main/java/net/minecraft/world/item/ItemStack.java
index 0a947451349f94d2f9851fa6ae592f987ab87709..a298c3106a3b97fe75d81332c42a5daa11bc354d 100644
--- a/src/main/java/net/minecraft/world/item/ItemStack.java
+++ b/src/main/java/net/minecraft/world/item/ItemStack.java
@@ -263,6 +263,7 @@ public final class ItemStack {
         processEnchantOrder(this.tag); // Paper
         if (this.getItem().canBeDepleted()) {
             this.setDamageValue(this.getDamageValue());
+            if (this.tag != null && this.tag.contains("RepairCost")) this.tag.remove("RepairCost"); // PaperDragon
         }
 
     }
@@ -1159,10 +1160,12 @@ public final class ItemStack {
     }
 
     public int getBaseRepairCost() {
+        if (true) { return 0; } // PaperDragon
         return this.hasTag() && this.tag.contains("RepairCost", 3) ? this.tag.getInt("RepairCost") : 0;
     }
 
     public void setRepairCost(int repairCost) {
+        if (true) { return; } // PaperDragon
         // CraftBukkit start - remove RepairCost tag when 0 (SPIGOT-3945)
         if (repairCost == 0) {
             this.removeTagKey("RepairCost");
diff --git a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaItem.java b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaItem.java
index ff8930a60876b3a092543d43b2aa67e6e2db8832..b13b6fd913b729762c5aae4a939e76a0a8afaf05 100644
--- a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaItem.java
+++ b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaItem.java
@@ -395,7 +395,7 @@ class CraftMetaItem implements ItemMeta, Damageable, Repairable, BlockDataMeta {
         this.enchantments = CraftMetaItem.buildEnchantments(tag, CraftMetaItem.ENCHANTMENTS);
         this.attributeModifiers = CraftMetaItem.buildModifiers(tag, CraftMetaItem.ATTRIBUTES);
 
-        if (tag.contains(REPAIR.NBT)) {
+        if (false && tag.contains(REPAIR.NBT)) { // PaperDragon
             this.repairCost = tag.getInt(REPAIR.NBT);
         }
 
