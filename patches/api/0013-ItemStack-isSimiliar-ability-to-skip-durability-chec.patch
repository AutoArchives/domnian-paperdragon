From 769c92aff876bcfecdd80d68a72888db7ac73120 Mon Sep 17 00:00:00 2001
From: GreenMeanie <GreenMeanieMC@gmail.com>
Date: Sun, 24 Jul 2016 19:34:27 -0400
Subject: [PATCH] ItemStack isSimiliar ability to skip durability check

---
 src/main/java/org/bukkit/inventory/ItemStack.java | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

diff --git a/src/main/java/org/bukkit/inventory/ItemStack.java b/src/main/java/org/bukkit/inventory/ItemStack.java
index d9cff5b..e87e8ec 100644
--- a/src/main/java/org/bukkit/inventory/ItemStack.java
+++ b/src/main/java/org/bukkit/inventory/ItemStack.java
@@ -327,15 +327,21 @@ public class ItemStack implements Cloneable, ConfigurationSerializable {
      * @param stack the item stack to compare to
      * @return true if the two stacks are equal, ignoring the amount
      */
+    // PaperDragon start - Import Patch From EMC
     @Utility
     public boolean isSimilar(ItemStack stack) {
+        return isSimilar(stack, false);
+    }
+    @Utility
+    public boolean isSimilar(ItemStack stack, boolean skipDur) {
+    // PaperDragon end
         if (stack == null) {
             return false;
         }
         if (stack == this) {
             return true;
         }
-        return getTypeId() == stack.getTypeId() && getDurability() == stack.getDurability() && hasItemMeta() == stack.hasItemMeta() && (hasItemMeta() ? Bukkit.getItemFactory().equals(getItemMeta(), stack.getItemMeta()) : true);
+        return getTypeId() == stack.getTypeId() && (skipDur || getDurability() == stack.getDurability()) && hasItemMeta() == stack.hasItemMeta() && (hasItemMeta() ? Bukkit.getItemFactory().equals(getItemMeta(), stack.getItemMeta()) : true); // PaperDragon
     }
 
     @Override
-- 
1.9.1

