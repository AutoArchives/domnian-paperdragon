From a6f6db367f18eda5eb4b989472d28724037e89e7 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Mon, 21 Nov 2016 17:07:55 -0500
Subject: [PATCH] MinecraftKey API

---
 .../java/com/destroystokyo/paper/MinecraftKey.java | 38 ++++++++++++++++++++++
 src/main/java/org/bukkit/Bukkit.java               | 12 +++++++
 src/main/java/org/bukkit/Server.java               | 19 +++++++++++
 3 files changed, 69 insertions(+)
 create mode 100644 src/main/java/com/destroystokyo/paper/MinecraftKey.java

diff --git a/src/main/java/com/destroystokyo/paper/MinecraftKey.java b/src/main/java/com/destroystokyo/paper/MinecraftKey.java
new file mode 100644
index 00000000..cc296cc7
--- /dev/null
+++ b/src/main/java/com/destroystokyo/paper/MinecraftKey.java
@@ -0,0 +1,38 @@
+package com.destroystokyo.paper;
+
+import org.bukkit.Bukkit;
+
+public interface MinecraftKey {
+    /**
+     * Group name representing this Identifier, typically "minecraft"
+     * @return The group for this identifier
+     */
+    String getGroup();
+
+    /**
+     * Name representing this Identifier.
+     * @return The name for this identifier
+     */
+    String getName();
+
+    /**
+     * Creates a MinecraftKey using the default minecraft: group
+     *
+     * @param name The identifier name
+     * @return A new key
+     */
+    static MinecraftKey create(String name) {
+        return Bukkit.createKey(name);
+    }
+
+    /**
+     * Creates a new MinecraftKey using supplied group and name.
+     *
+     * @param group The group name
+     * @param name The identifier name
+     * @return A new key
+     */
+    static MinecraftKey create(String group, String name) {
+        return Bukkit.createKey(group, name);
+    }
+}
\ No newline at end of file
diff --git a/src/main/java/org/bukkit/Bukkit.java b/src/main/java/org/bukkit/Bukkit.java
index 4f27b9f2..7fdb7927 100644
--- a/src/main/java/org/bukkit/Bukkit.java
+++ b/src/main/java/org/bukkit/Bukkit.java
@@ -44,10 +44,22 @@ import org.bukkit.generator.ChunkGenerator;
 import org.bukkit.inventory.ItemFactory;
 import org.bukkit.inventory.meta.ItemMeta;
 
+import javax.annotation.Nonnull;
+
 /**
  * Represents the Bukkit core, for version and Server singleton handling
  */
 public final class Bukkit {
+
+    // Paper start
+    public static com.destroystokyo.paper.MinecraftKey createKey(@Nonnull String name) {
+        return server.createKey(name);
+    }
+    public static com.destroystokyo.paper.MinecraftKey createKey(@Nonnull String group, @Nonnull String name) {
+        return server.createKey(group, name);
+    }
+    // Paper end
+
     private static Server server;
 
     /**
diff --git a/src/main/java/org/bukkit/Server.java b/src/main/java/org/bukkit/Server.java
index ee39bca1..11531f25 100644
--- a/src/main/java/org/bukkit/Server.java
+++ b/src/main/java/org/bukkit/Server.java
@@ -45,6 +45,8 @@ import org.bukkit.generator.ChunkGenerator;
 import org.bukkit.inventory.ItemFactory;
 import org.bukkit.inventory.meta.ItemMeta;
 
+import javax.annotation.Nonnull; // PaperDragon
+
 /**
  * Represents a server implementation.
  */
@@ -1047,5 +1049,22 @@ public interface Server extends PluginMessageRecipient {
      * @return true if player names should be suggested
      */
     boolean suggestPlayerNamesWhenNullTabCompletions();
+
+    /**
+     * @see com.destroystokyo.paper.MinecraftKey#create(String)
+     * @param name
+     * @return
+     */
+    default com.destroystokyo.paper.MinecraftKey createKey(@Nonnull String name) {
+        return createKey("minecraft", name);
+    }
+
+    /**
+     * @see com.destroystokyo.paper.MinecraftKey#create(String, String)
+     * @param group
+     * @param name
+     * @return
+     */
+    com.destroystokyo.paper.MinecraftKey createKey(@Nonnull String group, @Nonnull String name);
     // Paper end
 }
-- 
2.11.0

