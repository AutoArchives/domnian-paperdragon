From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: chickeneer <emcchickeneer@gmail.com>
Date: Wed, 18 Mar 2020 21:53:05 -0500
Subject: [PATCH] Add getPlayerCause to LightningStrike entities

Tridents with the channeling enchantment will create
lightning if thrown during a thunderstorm.
This returns if a player caused the lightning strike.

diff --git a/src/main/java/org/bukkit/entity/LightningStrike.java b/src/main/java/org/bukkit/entity/LightningStrike.java
index 6f5b6901032eb03606c4566b24459a03baac0c73..3dc991c6e220c3abd69fd2632a4a478fbe17a640 100644
--- a/src/main/java/org/bukkit/entity/LightningStrike.java
+++ b/src/main/java/org/bukkit/entity/LightningStrike.java
@@ -85,6 +85,19 @@ public interface LightningStrike extends Entity {
     @org.jetbrains.annotations.Nullable
     Entity getCausingEntity();
 
+    // PaperDragon start
+    /**
+     * Returns the player that caused this lightning using a trident or null if not applicable.
+     *
+     * @return the player that caused the strike or else null
+     */
+    @org.jetbrains.annotations.Nullable
+    public default Player getPlayerCause() {
+        Entity cause = getCausingEntity();
+        return cause instanceof Player ? (Player) cause : null;
+    }
+    // PaperDragon end
+
     /**
      * Updates the player that caused this lightning to be summoned into the world.
      * By default, players that channel their {@link Trident} will be the cause of the respective lightning.
