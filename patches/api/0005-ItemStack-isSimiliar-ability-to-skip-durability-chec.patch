From 86df1f3e1719404792dde6dba4b682886b987530 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Sat, 15 Jun 2013 23:19:03 -0400
Subject: [PATCH] ItemStack isSimiliar ability to skip durability check

---
 src/main/java/org/bukkit/inventory/ItemStack.java | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

diff --git a/src/main/java/org/bukkit/inventory/ItemStack.java b/src/main/java/org/bukkit/inventory/ItemStack.java
index 574cdf3b..eb181fc3 100644
--- a/src/main/java/org/bukkit/inventory/ItemStack.java
+++ b/src/main/java/org/bukkit/inventory/ItemStack.java
@@ -331,15 +331,21 @@ public class ItemStack implements Cloneable, ConfigurationSerializable {
      * @param stack the item stack to compare to
      * @return true if the two stacks are equal, ignoring the amount
      */
+    // PaperDragon start - Import patch from EMC
     @Utility
     public boolean isSimilar(ItemStack stack) {
+        return isSimilar(stack, false);
+    }
+    @Utility
+    public boolean isSimilar(ItemStack stack, boolean skipDur) {
+    // PaperDragon end
         if (stack == null) {
             return false;
         }
         if (stack == this) {
             return true;
         }
-        return getTypeId() == stack.getTypeId() && getDurability() == stack.getDurability() && hasItemMeta() == stack.hasItemMeta() && (hasItemMeta() ? Bukkit.getItemFactory().equals(getItemMeta(), stack.getItemMeta()) : true);
+        return getTypeId() == stack.getTypeId() && (skipDur || getDurability() == stack.getDurability()) && hasItemMeta() == stack.hasItemMeta() && (hasItemMeta() ? Bukkit.getItemFactory().equals(getItemMeta(), stack.getItemMeta()) : true); // PaperDragon - Import patch from EMC
     }
 
     @Override
-- 
2.17.0

