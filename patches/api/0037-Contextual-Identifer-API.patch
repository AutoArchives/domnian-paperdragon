From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Tue, 17 May 2016 19:38:55 -0400
Subject: [PATCH] Contextual Identifer API

Seems silly, but I want to have a common interface to represent an identity
but not have risk of 2 objects equalling each other.

Example: ChunkIdentifier and a ResidenceIdentifier are 2 ways to identity a context
but cant ever equal each other.

Implementers should not expose entropy data, just provide equal/hashcode.

Objects represended by an Identifier, should be able to use them as their equal/hashcodes.

diff --git a/src/main/java/com/domnian/paperdragon/Identifier.java b/src/main/java/com/domnian/paperdragon/Identifier.java
new file mode 100644
index 0000000000000000000000000000000000000000..4873358b631178a23ab627b4d51a3a2168cb1b51
--- /dev/null
+++ b/src/main/java/com/domnian/paperdragon/Identifier.java
@@ -0,0 +1,3 @@
+package com.domnian.paperdragon;
+
+public interface Identifier {}
diff --git a/src/main/java/com/domnian/paperdragon/UniqueIdentifier.java b/src/main/java/com/domnian/paperdragon/UniqueIdentifier.java
new file mode 100644
index 0000000000000000000000000000000000000000..c0ade55bcf2d8563883a75381a374e495deeec21
--- /dev/null
+++ b/src/main/java/com/domnian/paperdragon/UniqueIdentifier.java
@@ -0,0 +1,27 @@
+package com.domnian.paperdragon;
+
+import javax.annotation.Nonnull;
+import java.util.UUID;
+
+public class UniqueIdentifier implements Identifier {
+
+    private final UUID uuid;
+
+    public UniqueIdentifier(@Nonnull UUID uuid) {
+        this.uuid = uuid;
+    }
+
+    @Override
+    public boolean equals(Object o) {
+        if (this == o) return true;
+        if (o == null || getClass() != o.getClass()) return false;
+        UniqueIdentifier that = (UniqueIdentifier) o;
+        return uuid.equals(that.uuid);
+    }
+
+    @Override
+    public int hashCode() {
+        return uuid.hashCode();
+    }
+
+}
diff --git a/src/main/java/org/bukkit/Chunk.java b/src/main/java/org/bukkit/Chunk.java
index f6905ef43a215e2302abf5b0f589b53e37b0b415..068891f481e18f4523fd9fa003b4b9d1d881ff93 100644
--- a/src/main/java/org/bukkit/Chunk.java
+++ b/src/main/java/org/bukkit/Chunk.java
@@ -24,6 +24,9 @@ public interface Chunk extends PersistentDataHolder {
     PersistentMetaMap getPersistentMeta();
     // PaperDragon end
 
+    @NotNull
+    com.domnian.paperdragon.Identifier getIdentifier(); // PaperDragon
+
     /**
      * Gets the X-coordinate of this chunk
      *
